<canvas id=a>
<script>
c = a.getContext(`2d`);
a.width=15*9;
a.height=13*9;
top.reload = () => {
  location = location;
}

f=[l=u=r=e=o=t=0],d=n=2,y=R=24,S=(l,i)=>{for(Y=11;Y-->l;)f[Y][i]=f[Y][i+1]=4},a=(l,i,e)=>{for(Y=11;Y-->l;)if(e)for(X=i;X<i+Y-l;X++)f[Y][X]=f[10][198]=1;else for(X=i;X-->i-Y+l;)f[Y][X]=f[10][198]=1},g=(l,i,e)=>{if(f[~~i])return e&&f[~~i][~~l]&&2!=f[~~i][~~l]&&(f[~~i][~~l]--,o=0),f[~~i][~~l]};for(i=15;i--;)for(f[i]=[],j=999;j--;)f[i][j]=i>10&&![69,70,86,87,88,153,154].includes(j);for(i of[22,94,109,129,130])f[3][i]=3;for(i of[80,81,82,83,84,85,86,87,91,92,93,121,122,123,128,131])f[3][i]=1;for(i of[8,21,23,78,106,109,112,170])f[7][i]=3;for(i of[20,22,24,77,79,94,100,118,129,130,88,89,171])f[7][i]=f[10][198]=1;S(9,28),S(8,38),S(7,46),S(7,57),S(9,83),S(9,179),a(6,138),a(6,152),a(6,153),a(2,190),a(2,191),a(6,140,1),a(6,155,1),onkeydown=onkeyup=(l=>self[`lur`[l.which-37]]=l.type[5]),setInterval("for(R-=.02,Math.hypot(R-d,10-n)<1&&(z?(R=-1,o=-.2):t=1),l&&d>e&&g(d-=.1,n)&&(d=1+~~d),r&&(g((d+=.1)+1,n)?d=~~d-.1:d>e+7&&(e+=.1)),u&&!z&&(o=-.25),n+=o+=.012,o<0&&g(d,n+=o,1)|g(d+.9,n,1)&&(n=1+~~n,o=0),(n>14||d>198)&&(t=1),z=u=!(g(d,n+1)|g(d+.5,n+1)),z||(n=~~n,o=0),c.fillStyle=`#59f`,c.fillRect(0,0,999,999),i=13;i--;)for(j=999;j--;)4==f[i][j]?(c.fillStyle=`#8d1`,c.fillRect(9*j-9*e,9*i,9,9),c.fillRect(1784-9*e,9,2,81)):3==f[i][j]?(c.fillStyle=`#f93`,c.fillRect(9*j-9*e,9*i,9,9)):f[i][j]&&(c.fillStyle=`#c40`,c.fillRect(9*j-9*e,9*i,9,9));c.fillStyle=`#a00`,c.fillRect(9*R-9*e,90,9,9),c.fillStyle=`#d20`,c.fillRect(9*d-9*e,9*n,9,9),t&&top.reload(),y&&(c.fillStyle=`#000`,c.fillRect(0,0,999,999),y--)",9)

</script>

<style>
* { overflow: hidden 